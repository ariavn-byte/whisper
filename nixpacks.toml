# Nixpacks configuration for Railway deployment
# Backend deployment with Whisper and ffmpeg

[phases.setup]
nixPkgs = ["ffmpeg"]

[phases.install]
cmds = ["cd farsi_transcriber_web/backend && pip install -r requirements.txt"]

[start]
cmd = "cd farsi_transcriber_web/backend && gunicorn --workers 2 --worker-class sync --timeout 120 --bind 0.0.0.0:$PORT app:app"
